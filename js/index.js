
/**
 * dingo-coder
 * Version: 0.1.2
 * Copyright 2015 - 2015 Forest
 */
 !function(){var a,b,c,d,e,f,g,h,i,j,k,l;return a=function(a){return function(b){return toString.call(b).toLowerCase()===("[object "+a+"]").toLowerCase()}},j=function(b,c){return a(c)(b)},g=a("object"),i=a("string"),f=a("number"),d=a("array"),e=a("function"),h=a("regexp"),b=function(a,b,c,d){var e;return e=null!=window.addEventListener?!1:!0,a[e?"attachEvent":"addEventListener"](""+(e?"on":"")+b,c,d||!1)},c=function(a){var b;return b=document.createElement("iframe"),b.src=a.server,b.frameborder=0,b.width=a.container.offsetWidth,b.height=Math.max(a.container.offsetHeight,500),b.setAttribute("style","border: none;"),a.container.appendChild(b),b},k=function(a,c,d){var e,f;f=c.iframe.contentWindow;try{return f.document,b(c.iframe,"load",function(){return f.postMessage(a,c.server)}),f.postMessage(a,c.server)}catch(g){return e=g,f.postMessage(a,c.server)}},l=function(a,b){var c;return c=JSON.stringify(a.editor),k(c,a,b)},Polymer("dingo-coder",{icon:"./img/logo.png",name:"Dingo Coder",layout:1,code:!0,preview:!0,ready:function(){var a,b,d,e,f,g;for(a={server:"http://dingo.emptystack.net/dingo.html",container:null,iframe:null,editor:{origin:window.location.href,codes:[]}},d=document.createElement("div"),d.innerHTML=this.innerHTML,e=d.getElementsByTagName("textarea"),f=0,g=e.length;g>f;f++)b=e[f],"css"===b.getAttribute("target")&&(a.editor.css=b.value),null!=b.getAttribute("code")&&a.editor.codes.push({type:b.getAttribute("code"),value:b.value});return a.editor.icon=this.icon,a.editor.name=this.name,a.editor.layout=this.layout,a.editor.code=this.code,a.editor.preview=this.preview,a.container=this.$.container,a.iframe=c(a),window.addEventListener("messsage",function(a){return console.log("what the fuck!"),console.log(a)}),l(a)}})}();